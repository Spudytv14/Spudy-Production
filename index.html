<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spudy Library</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js"></script>
    <style>
        body { margin: 0; background: #0a0a0a; overflow-x: hidden; color: white; }
        #canvas { width: 100vw; height: 100vh; position: fixed; top: 0; left: 0; z-index: -1; }
        .glow { text-shadow: 0 0 15px #3b82f6, 0 0 30px #2563eb; }
        .free-badge { position: absolute; top: 12px; right: 12px; background: #10b981; color: white; font-weight: bold; padding: 8px 16px; border-radius: 50px; font-size: 12px; box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4); }
        .coming-soon { background: linear-gradient(135deg, #f59e0b, #f97316); }
        .popular-badge { position: absolute; top: -16px; left: 50%; transform: translateX(-50%); background: #facc15; color: black; font-weight: bold; padding: 8px 20px; border-radius: 50px; font-size: 13px; }
        .counter { font-size: 4.5rem; font-weight: bold; }
        .payment-option { transition: all 0.3s; border: 2px solid transparent; cursor: pointer; }
        .payment-option:hover { transform: translateY(-8px); }
        .payment-option.selected { border-color: #10b981; background: rgba(16, 185, 129, 0.2); }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-black bg-opacity-90 backdrop-blur-lg border-b border-blue-900">
        <div class="max-w-7xl mx-auto flex justify-between items-center p-4">
            <h1 class="text-2xl font-bold glow">Spudy Library</h1>
            <div class="flex items-center gap-4 text-sm">
                <a href="#home" class="hover:text-blue-400 px-3 py-2 rounded transition">Home</a>
                <a href="#spudy-books" class="hover:text-blue-400 px-3 py-2 rounded transition">Books</a>
                <a href="#spudy-courses" class="hover:text-blue-400 px-3 py-2 rounded transition">Courses</a>
                <a href="#pricing" class="hover:text-blue-400 px-3 py-2 rounded transition">Pricing</a>
                <button id="authBtn" onclick="openLogin()" class="bg-blue-600 hover:bg-blue-500 px-5 py-2 rounded-full text-sm font-bold">Login</button>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <section id="home" class="min-h-screen flex flex-col justify-center items-center text-center px-6">
        <h1 class="text-6xl md:text-8xl font-extrabold glow">Spudy Library</h1>
        <p class="text-3xl md:text-5xl mt-6" id="typed"></p>
        <a href="#spudy-books" class="mt-12 bg-green-600 hover:bg-green-500 px-14 py-6 rounded-full text-2xl font-bold shadow-2xl">Read Free Books Now</a>
    </section>

    <!-- FREE BOOKS + Book 2 & 3 Coming Soon -->
    <section id="spudy-books" class="py-24 px-6 bg-black bg-opacity-40">
        <h2 class="text-5xl font-bold glow text-center mb-16">Free Books Collection</h2>
        <div class="grid md:grid-cols-3 gap-12 max-w-6xl mx-auto">
            <!-- Book 1 -->
            <div class="relative p-10 bg-gray-900 bg-opacity-80 rounded-3xl border border-gray-700 hover:border-green-500 transition text-center">
                <div class="free-badge">100% FREE</div>
                <img src="spudybook1.png" alt="Spudy Book 1" class="w-64 mx-auto rounded-xl shadow-2xl border-4 border-green-600">
                <h3 class="text-3xl font-bold glow mt-8">Spudy: Chronicles of a Form One Legend</h3>
                <p class="mt-4 text-lg opacity-90">A funny and inspiring high school adventure</p>
                <button onclick="window.open('https://drive.google.com/file/d/12KQLWB37FYcVyzzM2raGUMBc1FBi0yD1/view?usp=drive_link','_blank')" 
                        class="mt-8 bg-green-600 hover:bg-green-500 text-white font-bold py-5 px-12 rounded-full text-xl shadow-2xl transform hover:scale-105 transition">
                    <i class="fas fa-download mr-3"></i> Download Free PDF
                </button>
            </div>

            <!-- Book 2 Coming Soon -->
            <div class="relative p-10 bg-gray-900 bg-opacity-80 rounded-3xl border border-gray-700 hover:border-orange-500 transition text-center">
                <div class="free-badge coming-soon">COMING SOON</div>
                <div class="relative">
                    <img src="spudybook1.png" alt="Spudy Book 2" class="w-64 mx-auto rounded-xl shadow-2xl border-4 border-orange-600 opacity-70">
                    <div class="absolute inset-0 flex items-center justify-center">
                        <p class="text-5xl font-bold text-orange-400 bg-black bg-opacity-80 px-8 py-4 rounded-2xl">SOON</p>
                    </div>
                </div>
                <h3 class="text-3xl font-bold glow mt-8">Spudy Book 2</h3>
                <p class="mt-4 text-lg opacity-90">The journey continues...</p>
                <button class="mt-8 bg-gray-700 text-gray-400 font-bold py-5 px-12 rounded-full text-xl cursor-not-allowed" disabled>Coming Soon</button>
            </div>

            <!-- Book 3 Coming Soon -->
            <div class="relative p-10 bg-gray-900 bg-opacity-80 rounded-3xl border border-gray-700 hover:border-purple-500 transition text-center">
                <div class="free-badge coming-soon">COMING SOON</div>
                <div class="relative">
                    <img src="spudybook1.png" alt="Spudy Book 3" class="w-64 mx-auto rounded-xl shadow-2xl border-4 border-purple-600 opacity-70">
                    <div class="absolute inset-0 flex items-center justify-center">
                        <p class="text-5xl font-bold text-purple-400 bg-black bg-opacity-80 px-8 py-4 rounded-2xl">SOON</p>
                    </div>
                </div>
                <h3 class="text-3xl font-bold glow mt-8">Spudy Book 3</h3>
                <p class="mt-4 text-lg opacity-90">The epic finale...</p>
                <button class="mt-8 bg-gray-700 text-gray-400 font-bold py-5 px-12 rounded-full text-xl cursor-not-allowed" disabled>Coming Soon</button>
            </div>
        </div>
    </section>

    <!-- PREMIUM COURSES -->
    <section id="spudy-courses" class="py-24 px-6 bg-black bg-opacity-50">
        <h2 class="text-5xl font-bold glow text-center mb-16">Premium Courses</h2>
        <div class="grid md:grid-cols-3 gap-12 max-w-6xl mx-auto">
            <div class="p-10 bg-gradient-to-br from-purple-900 to-black rounded-3xl border-2 border-purple-600 hover:border-purple-400 transition text-center">
                <i class="fas fa-robot text-7xl text-purple-400 mb-6"></i>
                <h3 class="text-3xl font-bold glow mb-4">AI Fundamentals</h3>
                <p class="text-lg opacity-90 mb-8">From zero to AI hero in 8 weeks</p>
                <button onclick="checkLogin()" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold py-5 px-12 rounded-full text-xl shadow-2xl transform hover:scale-110 transition">
                    Apply Now
                </button>
            </div>
            <div class="p-10 bg-gradient-to-br from-blue-900 to-black rounded-3xl border-2 border-blue-600 hover:border-blue-400 transition text-center">
                <i class="fas fa-laptop-code text-7xl text-blue-400 mb-6"></i>
                <h3 class="text-3xl font-bold glow mb-4">Tech for Beginners</h3>
                <p class="text-lg opacity-90 mb-8">Build real apps & websites</p>
                <button onclick="checkLogin()" class="bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-bold py-5 px-12 rounded-full text-xl shadow-2xl transform hover:scale-110 transition">
                    Apply Now
                </button>
            </div>
            <div class="p-10 bg-gradient-to-br from-yellow-900 to-black rounded-3xl border-2 border-yellow-600 hover:border-yellow-400 transition text-center">
                <i class="fas fa-pen-fancy text-7xl text-yellow-400 mb-6"></i>
                <h3 class="text-3xl font-bold glow mb-4">Creative Writing Mastery</h3>
                <p class="text-lg opacity-90 mb-8">Write your first book with confidence</p>
                <button onclick="checkLogin()" class="bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 text-black font-bold py-5 px-12 rounded-full text-xl shadow-2xl transform hover:scale-110 transition">
                    Apply Now
                </button>
            </div>
        </div>
    </section>

    <!-- PRICING -->
    <section id="pricing" class="py-24 px-6">
        <h2 class="text-5xl font-bold glow text-center mb-16">Choose Your Plan</h2>
        <div class="grid md:grid-cols-3 gap-10 max-w-6xl mx-auto">
            <div class="p-10 bg-gray-900 rounded-3xl border border-gray-700 text-center">
                <h3 class="text-3xl font-bold glow">Free Forever</h3>
                <p class="text-5xl font-bold my-8">FREE</p>
                <ul class="text-left space-y-3 mb-8 text-white text-lg"><li>✓ All Free Books</li><li>✓ Basic Library Access</li></ul>
                <button class="w-full py-4 bg-gray-700 rounded-xl font-bold text-xl">Current Plan</button>
            </div>
            <div class="relative p-12 bg-gradient-to-b from-purple-950 to-black rounded-3xl border-4 border-purple-500 shadow-2xl transform scale-105">
                <div class="popular-badge">MOST POPULAR</div>
                <h3 class="text-4xl font-bold glow">Library Pro</h3>
                <p class="text-6xl font-bold my-8">$2.51 <span class="text-2xl">/month</span></p>
                <ul class="text-left space-y-3 mb-8 text-white text-lg"><li>✓ Unlimited Premium Books</li><li>✓ All Courses</li><li>✓ Offline Reading</li></ul>
                <button onclick="selectPlan('Library Pro', 2.51)" class="w-full py-5 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white text-xl font-bold rounded-xl">Upgrade Now</button>
            </div>
            <div class="p-10 bg-gradient-to-b from-cyan-900 to-black rounded-3xl border-4 border-cyan-500 text-center">
                <h3 class="text-3xl font-bold glow">Lifetime Access</h3>
                <p class="text-5xl font-bold my-8">$49 <span class="text-xl">one-time</span></p>
                <ul class="text-left space-y-3 mb-8 text-white text-lg"><li>✓ Everything in Pro</li><li>✓ Lifetime Updates</li><li>✓ All Future Books Free</li></ul>
                <button onclick="selectPlan('Lifetime Access', 49)" class="w-full py-5 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-xl font-bold rounded-xl">Get Lifetime</button>
            </div>
        </div>
    </section>

    <!-- TRUSTED BY READERS + ANIMATED NUMBERS -->
    <section class="py-24 px-6 bg-black bg-opacity-50">
        <h2 class="text-5xl font-bold glow text-center mb-16">Trusted by Readers</h2>
        <div class="max-w-4xl mx-auto text-center mb-16">
            <p class="text-2xl italic opacity-90">"Spudy Library changed how I learn and read!"</p>
            <p class="mt-4 font-bold text-yellow-400 text-xl">— Nyasha K., Student</p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-12 max-w-5xl mx-auto">
            <div class="p-8 bg-gray-900 bg-opacity-80 rounded-3xl text-center">
                <div class="counter text-green-500" data-count="5000">0</div>
                <p class="mt-4 text-xl">Book Downloads</p>
            </div>
            <div class="p-8 bg-gray-900 bg-opacity-80 rounded-3xl text-center">
                <div class="counter text-blue-500" data-count="1200">0</div>
                <p class="mt-4 text-xl">Course Enrollments</p>
            </div>
            <div class="p-8 bg-gray-900 bg-opacity-80 rounded-3xl text-center">
                <div class="counter text-purple-500" data-count="10000">0</div>
                <p class="mt-4 text-xl">Happy Readers</p>
            </div>
        </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="py-24 px-6 bg-black bg-opacity-40">
        <h2 class="text-5xl font-bold glow text-center mb-16">Contact Us</h2>
        <div class="max-w-2xl mx-auto text-center">
            <div class="flex justify-center gap-10 text-5xl mb-10">
                <a href="https://api.whatsapp.com/send?phone=263716669706" class="text-green-500 hover:scale-110 transition"><i class="fab fa-whatsapp"></i></a>
                <a href="mailto:spudytv14@gmail.com" class="text-blue-500 hover:scale-110 transition"><i class="fas fa-envelope"></i></a>
            </div>
            <div class="bg-gray-900 bg-opacity-80 p-8 rounded-3xl">
                <input type="email" id="subscribe-email" placeholder="Enter your email for updates" class="w-full p-4 bg-gray-800 rounded-xl mb-4 text-white">
                <button onclick="submitSubscribe(event)" class="w-full py-4 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-xl">Subscribe</button>
                <div id="subscribe-error" class="text-red-500 mt-2 hidden">Please enter a valid email</div>
            </div>
            <div class="mt-10 text-sm space-y-2">
                <a href="https://spudytv14.github.io/Legai-Services/" target="_blank" class="hover:text-blue-400">Terms of Service</a> |
                <a href="#" class="hover:text-blue-400">Privacy Centre</a> |
                <a href="mailto:spudytv14@gmail.com" class="hover:text-blue-400">Have feedback? Let us know</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-16 text-center bg-black">
        <div class="flex justify-center gap-12 text-5xl mb-10">
            <a href="https://api.whatsapp.com/send?phone=263716669706" class="text-green-500 hover:scale-110 transition"><i class="fab fa-whatsapp"></i></a>
            <a href="mailto:spudytv14@gmail.com" class="text-blue-500 hover:scale-110 transition"><i class="fas fa-envelope"></i></a>
            <a href="https://facebook.com/matipaishe.blessing.muduchwa" class="text-blue-600 hover:scale-110 transition"><i class="fab fa-facebook"></i></a>
            <a href="https://x.com/Matipa_14" class="text-white hover:scale-110 transition"><i class="fab fa-x-twitter"></i></a>
            <a href="https://youtube.com/@SpudyAI" class="text-red-500 hover:scale-110 transition"><i class="fab fa-youtube"></i></a>
        </div>
        <p class="text-sm opacity-70">© 2026 Spudy Library. All Rights Reserved.</p>
        <p class="text-xs mt-4 opacity-50">Created by Matipaishe</p>
    </footer>

    <!-- PAYMENT MODAL WITH SELECTION -->
    <div id="paymentModal" class="fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center hidden z-50">
        <div class="bg-gray-900 p-10 rounded-3xl max-w-4xl w-full text-center relative">
            <button onclick="closePayment()" class="absolute top-4 right-6 text-4xl text-gray-400 hover:text-white">&times;</button>
            <h2 class="text-4xl font-bold glow mb-4" id="planName">Library Pro</h2>
            <p class="text-5xl font-bold mb-10 text-yellow-400" id="planPrice">$2.51/month</p>
            <p class="text-xl mb-8">Choose your payment method:</p>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
                <div class="payment-option p-6 bg-gray-800 rounded-2xl" onclick="selectPayment('EcoCash')">
                    <img src="ecocash.png" alt="EcoCash" class="w-24 h-24 mx-auto mb-4 object-contain">
                    <p class="font-bold text-green-400">EcoCash</p>
                </div>
                <div class="payment-option p-6 bg-gray-800 rounded-2xl" onclick="selectPayment('OneMoney')">
                    <img src="onemoney.png" alt="OneMoney" class="w-24 h-24 mx-auto mb-4 object-contain">
                    <p class="font-bold text-blue-400">OneMoney</p>
                </div>
                <div class="payment-option p-6 bg-gray-800 rounded-2xl" onclick="selectPayment('NetOne Cash')">
                    <img src="netone.png" alt="NetOne" class="w-24 h-24 mx-auto mb-4 object-contain">
                    <p class="font-bold text-red-400">NetOne Cash</p>
                </div>
                <div class="payment-option p-6 bg-gray-800 rounded-2xl" onclick="selectPayment('Visa')">
                    <img src="visa.png" alt="Visa" class="w-24 h-24 mx-auto mb-4 object-contain">
                    <p class="font-bold text-blue-600">Visa</p>
                </div>
                <div class="payment-option p-6 bg-gray-800 rounded-2xl" onclick="selectPayment('Mastercard')">
                    <img src="mastercard.png" alt="Mastercard" class="w-24 h-24 mx-auto mb-4 object-contain">
                    <p class="font-bold text-orange-500">Mastercard</p>
                </div>
                <div class="payment-option p-6 bg-gray-800 rounded-2xl" onclick="selectPayment('Bank Transfer')">
                    <i class="fas fa-university text-6xl text-gray-400 mb-4"></i>
                    <p class="font-bold">Bank Transfer</p>
                </div>
            </div>
            <div id="paymentConfirm" class="hidden mt-10 bg-yellow-600 text-black p-8 rounded-2xl font-bold text-xl">
                <p>You selected: <span id="selectedMethod"></span></p>
                <p class="mt-4">Send payment to 071 666 9706</p>
                <button onclick="sendWhatsAppReceipt()" class="mt-6 bg-white text-yellow-600 px-10 py-4 rounded-xl hover:bg-gray-200 transition">
                    Send Receipt on WhatsApp
                </button>
            </div>
            <button onclick="closePayment()" class="mt-8 px-12 py-4 bg-red-600 hover:bg-red-500 rounded-xl text-xl font-bold">Close</button>
        </div>
    </div>

    <!-- FULL SCRIPT – COUNTERS WORKING! -->
    <script>
        let selectedPlan = '', selectedPrice = '', selectedMethod = '';

        function selectPlan(name, price) {
            if (localStorage.getItem('spudyLoggedIn') !== 'true') { alert('Please login first!'); openLogin(); return; }
            selectedPlan = name; selectedPrice = price;
            document.getElementById('planName').textContent = name;
            document.getElementById('planPrice').textContent = price === 49 ? '$49 Lifetime' : '$' + price + '/month';
            document.getElementById('paymentModal').classList.remove('hidden');
            document.getElementById('paymentConfirm').classList.add('hidden');
            document.querySelectorAll('.payment-option').forEach(el => el.classList.remove('selected'));
        }

        function selectPayment(method) {
            selectedMethod = method;
            document.querySelectorAll('.payment-option').forEach(el => el.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            document.getElementById('selectedMethod').textContent = method;
            document.getElementById('paymentConfirm').classList.remove('hidden');
        }

        function sendWhatsAppReceipt() {
            const msg = `Hi Spudy Library! I just paid $${selectedPrice} for ${selectedPlan} using ${selectedMethod}. Please activate my account!`;
            window.open(`https://api.whatsapp.com/send?phone=263716669706&text=${encodeURIComponent(msg)}`, '_blank');
        }

        function closePayment() { document.getElementById('paymentModal').classList.add('hidden'); }

        // Login
        if (localStorage.getItem('spudyLoggedIn') === 'true') document.getElementById('authBtn').textContent = 'Account';
        function openLogin() { document.getElementById('loginModal').classList.remove('hidden'); }
        function closeLogin() { document.getElementById('loginModal').classList.add('hidden'); }
        function checkLogin() { if (localStorage.getItem('spudyLoggedIn') !== 'true') { alert('Please login!'); openLogin(); } else alert('Application submitted!'); }

        // Animated Counters – WORKING!
        const counters = document.querySelectorAll('.counter');
        let animated = false;
        window.addEventListener('scroll', () => {
            if (animated) return;
            counters.forEach(counter => {
                if (counter.getBoundingClientRect().top < window.innerHeight - 100) {
                    animated = true;
                    let count = 0;
                    const target = +counter.dataset.count;
                    const increment = target / 100;
                    const timer = setInterval(() => {
                        count += increment;
                        if (count >= target) {
                            counter.textContent = target.toLocaleString() + '+';
                            clearInterval(timer);
                        } else {
                            counter.textContent = Math.ceil(count).toLocaleString() + '+';
                        }
                    }, 20);
                }
            });
        });

        // Three.js + Typed
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('canvas'), alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        const grid = new THREE.Mesh(new THREE.PlaneGeometry(120, 120, 100, 100), new THREE.MeshBasicMaterial({ color: 0x3b82f6, wireframe: true, transparent: true, opacity: 0.15 }));
        grid.rotation.x = -Math.PI / 2.5; scene.add(grid); camera.position.z = 60;
        function animate() { requestAnimationFrame(animate); grid.rotation.z += 0.001; renderer.render(scene, camera); } animate();

        new Typed('#typed', { strings: ["Read Free Books", "Learn New Skills", "Join 10,000+ Readers", "Spudy Library"], typeSpeed: 70, backSpeed: 50, loop: true });
    </script>
</body>
</html>
